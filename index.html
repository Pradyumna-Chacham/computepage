<!DOCTYPE html>
<html>
<head>
<style>
#customers {
  font-family: Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

#customers td, #customers th {
  border: 1px solid #ddd;
  padding: 8px;
}

#customers tr:nth-child(even){background-color: #f2f2f2;}

#customers tr:hover {background-color: #ddd;}

#customers th {
  padding-top: 12px;
  padding-bottom: 12px;
  text-align: left;
  background-color: #04AA6D;
  color: white;
}
</style>
</head>
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script>
<!--Budget Overview-->

var sal=document.getElementById("salary").value
var itr=document.getElementById("taxrate").value
var expend=document.getElementById("Expenditure").value
var sal_bit=  sal
var Sal_aIT=sal(1-(itr*100))

var r=document.getElementById("rental").value
var m=document.getElementById("House Maintenance").value
var i=document.getElementById("houseinsurance").value
var u=document.getElementById("utilities").value
var housing_exp=r + m + i + u
$(function () {
	$('#cpiechartdiv').highcharts({
		title: {text: 'Housing Expenses Breakdown'},
		tooltip: {formatter: function() {return this.point.name + '<br><b>'+ this.percentage.toFixed(1) +' %</b><br>$'+ this.y;}},
		plotOptions: {pie: {allowPointSelect: true,cursor: 'pointer'		}},
		series: [{
			type: 'pie',
			name: 'Share',
			data: [['Rent',r],['Housing Maintenance',m],['Insurance',i],['Utilities',u],]
		}]
	});
});

// <!--Transportation Costs-->

var vehicle_loan=document.getElementById("vehicle loan").value
var fuel=document.getElementById("Fuel").value
var vehicle_insurance=document.getElementById("Car Insurance").value
var car_maintenance=document.getElementById("Car Maintenance").value
var Other=document.getElementById("Other" ).value
var transport_exp=vehicle_loan + fuel + vehicle_insurance + car_maintenance + Other
$(function () {
	$('#cpiechartdiv').highcharts({
		title: {text: 'Transport Expenses Breakdown'},
		tooltip: {formatter: function() {return this.point.name + '<br><b>'+ this.percentage.toFixed(1) +' %</b><br>$'+ this.y;}},
		plotOptions: {pie: {allowPointSelect: true,cursor: 'pointer'		}},
		series: [{
			type: 'pie',
			name: 'Share',
			data: [['Vehicle loan',vehicle_loan],['Fuel',fuel],['Vehicle Insurance',vehicle_insurance],['Car Maintenance',car_maintenance],['Other Transport Costs',Other],]
		}]
	});
});

// <!--Food Expenses-->

var food=document.getElementById("Food").value
var meals=document.getElementById("Meals").value
var food_exp=food + meals
$(function () {
	$('#cpiechartdiv').highcharts({
		title: {text: 'Food Expenses Breakdown'},
		tooltip: {formatter: function() {return this.point.name + '<br><b>'+ this.percentage.toFixed(1) +' %</b><br>$'+ this.y;}},
		plotOptions: {pie: {allowPointSelect: true,cursor: 'pointer'		}},
		series: [{
			type: 'pie',
			name: 'Share',
			data: [['Food',food],['Meals',meals],]
		}]
	});
});

// <!--Healthcare Expenses-->

var meds=document.getElementById("Medicines").value
var doc_fee=document.getElementById("Doctor Consultation/fee").value
var healthcare_exp= meds + doc_fee
$(function () {
	$('#cpiechartdiv').highcharts({
		title: {text: 'Healthcare Expenses Breakdown'},
		tooltip: {formatter: function() {return this.point.name + '<br><b>'+ this.percentage.toFixed(1) +' %</b><br>$'+ this.y;}},
		plotOptions: {pie: {allowPointSelect: true,cursor: 'pointer'		}},
		series: [{
			type: 'pie',
			name: 'Share',
			data: [['Medicines',meds],['Doctor Consultation Fees',doc_fee],]
		}]
	});
});

// <!--Investments-->

var mf=document.getElementById("Mutual Funds").value
var fd=document.getElementById("Fixed Deposit").value
var pension=document.getElementById("Pension").value
var investments=document.getElementById("Investments").value
var investment_exp= mf + fd + pension + investments
$(function () {
	$('#cpiechartdiv').highcharts({
		title: {text: 'Savings and Investments Breakdown'},
		tooltip: {formatter: function() {return this.point.name + '<br><b>'+ this.percentage.toFixed(1) +' %</b><br>$'+ this.y;}},
		plotOptions: {pie: {allowPointSelect: true,cursor: 'pointer'		}},
		series: [{
			type: 'pie',
			name: 'Share',
			data: [['Mutual Funds',md],['Fixed Deposits',fd],['Pension',pension],['Investments',investments],]
		}]
	});
});

// <!--Loans-->

var cd=document.getElementById("Credit Card").value
var ed_loan=document.getElementById("Education Loan").value
var oth_loans=document.getElementById("Other Loans" ).value
var loan_exp= cd + ed_loan + oth_loans
$(function () {
	$('#cpiechartdiv').highcharts({
		title: {text: 'Loan & Other Payments Breakdown'},
		tooltip: {formatter: function() {return this.point.name + '<br><b>'+ this.percentage.toFixed(1) +' %</b><br>$'+ this.y;}},
		plotOptions: {pie: {allowPointSelect: true,cursor: 'pointer'		}},
		series: [{
			type: 'pie',
			name: 'Share',
			data: [['Credit Card loans',cd],['Education Loans',ed_loan],['Other loans',oth_loans],]
		}]
	});
});

// <!--Living Expenses-->

var clothing=document.getElementById("Clothing").value
var household_exp=document.getElementById("Household Expenses").value
var living_exp= clothing + household_exp
$(function () {
	$('#cpiechartdiv').highcharts({
		title: {text: 'Living Expenses Breakdown'},
		tooltip: {formatter: function() {return this.point.name + '<br><b>'+ this.percentage.toFixed(1) +' %</b><br>$'+ this.y;}},
		plotOptions: {pie: {allowPointSelect: true,cursor: 'pointer'		}},
		series: [{
			type: 'pie',
			name: 'Share',
			data: [['Clothing Expenses',clothing],['Household Expenses',household_exp],]
		}]
	});
});

// <!--Miscellaneous Expenses-->

var hobby=document.getElementById("Hobbies").value
var travel=document.getElementById("Travel").value
var recreation=document.getElementById("Recreation").value
var other_exp=document.getElementById("Other Expenses").value
var misc_exp=hobby + travel + recreation + other_exp
$(function () {
	$('#cpiechartdiv').highcharts({
		title: {text: 'Miscellaneous Expenses Breakdown'},
		tooltip: {formatter: function() {return this.point.name + '<br><b>'+ this.percentage.toFixed(1) +' %</b><br>$'+ this.y;}},
		plotOptions: {pie: {allowPointSelect: true,cursor: 'pointer'		}},
		series: [{
			type: 'pie',
			name: 'Share',
			data: [['Hobbies',hobby],['Travel',travel],['Recreation',recreation],['Other Expenses',other_exp],]
		}]
	});
});
// <!--Total Expenses Breakdown-->
var total_exp = housing_exp + transport_exp + food_exp + healthcare_exp + investment_exp + loan_exp + living_exp + misc_exp
// <!---Percentages for table--->
var Hpercent=((housing_exp*100)/Sal_aIT)
var Tpercent=((transportation_exp*100)/Sal_aIT)
var Lpercent=((living_exp*100)/Sal_aIT)
var Fpercent=((food_exp*100)/Sal_aIT)
var Loanpercent=((loan_exp*100)/Sal_aIT)
var Healthpercent=((healthcare_exp*100)/Sal_aIT)
var Savingspercent=((investment_exp*100)/Sal_aIT)
var Mpercent=((misc_exp*100)/Sal_aIT)
var Totalpercent=((total_exp*100)/(Sal_aIT*12))
$(function () {
	$('#cpiechartdiv').highcharts({
		title: {text: 'Total Expenses Breakdown'},
		tooltip: {formatter: function() {return this.point.name + '<br><b>'+ this.percentage.toFixed(1) +' %</b><br>$'+ this.y;}},
		plotOptions: {pie: {allowPointSelect: true,cursor: 'pointer'		}},
		series: [{
			type: 'pie',
			name: 'Share',
			data: [['Housing Expenses',housing_exp],['Transport Expenses',transport_exp],['Food Expenses',food_exp],['Healthcare Expenses',healthcare_exp],['Investments',investment_exp],['Loan & Other Payments',loan_exp],['Living Expenses',living_exp],['Miscellaneous Expenses',misc_exp],]
		}]
	});
});
// <!--Table--->
// <table id='Final Insights'>
<footer>
<div><a href="https://main.d38jr8i0bzv3qw.amplifyapp.com/">About Us</a></div>
<div><button onClick="window.print()">Print</button></div>
</footer>
</script>
</body>
</html>

